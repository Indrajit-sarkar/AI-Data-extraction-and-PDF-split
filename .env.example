# ============================================================================
# UNIVERSAL DATA EXTRACTOR - ENVIRONMENT CONFIGURATION TEMPLATE
# ============================================================================
# Copy this file to '.env' and update the values with your actual credentials
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your Azure credentials and paths
# 3. Keep .env secure and never commit it to version control
# ============================================================================

# ============================================================================
# AZURE DOCUMENT INTELLIGENCE (Required)
# ============================================================================
# Get these credentials from Azure Portal > Document Intelligence resource > Keys and Endpoint
# Example: https://your-doc-intelligence.cognitiveservices.azure.com/
DOC_ENDPOINT=https://your-doc-intelligence.cognitiveservices.azure.com/
DOC_KEY=your-document-intelligence-key-here

# ============================================================================
# AZURE OPENAI (Required for AI-powered features)
# ============================================================================
# Get these credentials from Azure Portal > OpenAI resource > Keys and Endpoint
# Example: https://your-openai.openai.azure.com/openai/deployments/gpt-4/chat/completions?api-version=2024-08-01-preview
AZURE_OPENAI_ENDPOINT=https://your-openai.openai.azure.com/openai/deployments/your-deployment-name/chat/completions?api-version=2024-08-01-preview
AZURE_OPENAI_KEY=your-openai-key-here
AZURE_OPENAI_API_VERSION=2024-08-01-preview
AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# ============================================================================
# AZURE BLOB STORAGE (Optional - for cloud file processing)
# ============================================================================
# Get these credentials from Azure Portal > Storage Account > Access Keys
# Leave blank if you only want to process local files
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=yourstorageaccount;AccountKey=your-storage-key;EndpointSuffix=core.windows.net
AZURE_STORAGE_ACCOUNT_NAME=yourstorageaccount
AZURE_STORAGE_ACCOUNT_KEY=your-storage-account-key

# ============================================================================
# OUTPUT DIRECTORIES
# ============================================================================
# Customize these paths for your system
# Windows example: C:\Users\YourName\Documents\AI-Extractor\OUTPUT JSON\JSON FILES
# macOS/Linux example: /Users/YourName/Documents/AI-Extractor/OUTPUT JSON/JSON FILES
# Relative paths work on all platforms: ./OUTPUT JSON/JSON FILES

OUTPUT_JSON_FILES_PATH=./OUTPUT JSON/JSON FILES
OUTPUT_JSON_ACCEPTED_PATH=./OUTPUT JSON/ACCEPTED
OUTPUT_JSON_REJECTED_PATH=./OUTPUT JSON/REJECTED
DOCUMENT_REVIEW_PORT=5001

# ============================================================================
# PDF SPLITTING CONFIGURATION - BEST Splitting Features
# ============================================================================
# Configure the BEST PDF splitting with barcode detection and vendor extraction
# SPLIT_PDF_METHOD options: barcode_vendor (recommended), ai_only, manual
# SPLIT_PDF_NAMING_PATTERN: {original_name}_{increment} creates filename_1.pdf, filename_2.pdf

SPLIT_PDF_OUTPUT_PATH=./SPLIT PDF FILES
SPLIT_PDF_ENABLED=true
SPLIT_PDF_METHOD=barcode_vendor
SPLIT_PDF_NAMING_PATTERN={original_name}_{increment}
SPLIT_PDF_AUTO_PROCESS=true
SPLIT_PDF_AUTO_EXTRACT=true

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# SERVER_HOST: Use 0.0.0.0 to allow external access, 127.0.0.1 for local only
# SERVER_PORT: Default is 5000, change if port is already in use
# DEBUG_MODE: Set to false for production environments

SERVER_PORT=5000
SERVER_HOST=0.0.0.0
DEBUG_MODE=true

# ============================================================================
# PROCESSING CONFIGURATION
# ============================================================================
# Adjust these values based on your system capabilities:
# 
# Windows recommendations:
# MAX_THREADS=4, MAX_PROCESSES=2
# 
# macOS recommendations:
# MAX_THREADS=6, MAX_PROCESSES=3
# 
# Linux recommendations:
# MAX_THREADS=8, MAX_PROCESSES=4

MAX_THREADS=4
MAX_PROCESSES=2
RETRY_ATTEMPTS=3
RETRY_DELAY_BASE=2.0
CONTENT_TRUNCATE_LIMIT=50000

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================
# Prevent API quota exhaustion - adjust based on your Azure service limits
# RATE_LIMIT_DEFAULT: General API calls per minute
# RATE_LIMIT_PROCESSING: Document processing calls per minute

RATE_LIMIT_DEFAULT=100
RATE_LIMIT_PROCESSING=20
RATE_LIMIT_ENABLED=true

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# CORS_ORIGINS: Allowed origins for cross-origin requests
# Development: Use * to allow all origins
# Production: Specify exact domains like http://localhost:5000,https://yourdomain.com

CORS_ORIGINS=*

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# LOG_LEVEL options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_FORMAT options: json (structured), text (human-readable)

LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# SESSION PERSISTENCE
# ============================================================================
# Path where session state is stored for document review functionality
# Windows example: C:\Users\YourName\Documents\session_state.json
# macOS/Linux example: /Users/YourName/Documents/session_state.json

SESSION_FILE_PATH=./session_state.json

# ============================================================================
# ADVANCED SETTINGS (Optional)
# ============================================================================
# Uncomment and modify these settings if needed for your specific use case

# Custom timeouts (in seconds)
# HTTP_TIMEOUT=30
# API_TIMEOUT=60

# Memory limits (in MB)
# MAX_MEMORY_MB=1024

# File size limits (in MB)
# MAX_FILE_SIZE_MB=100
# MAX_BATCH_SIZE_MB=500

# ============================================================================
# PLATFORM-SPECIFIC PATH EXAMPLES
# ============================================================================
#
# WINDOWS PATHS:
# OUTPUT_JSON_FILES_PATH=C:\Users\YourName\Documents\AI-Extractor\OUTPUT JSON\JSON FILES
# SPLIT_PDF_OUTPUT_PATH=C:\Users\YourName\Documents\AI-Extractor\SPLIT PDF FILES
# SESSION_FILE_PATH=C:\Users\YourName\Documents\AI-Extractor\session_state.json
#
# MACOS PATHS:
# OUTPUT_JSON_FILES_PATH=/Users/YourName/Documents/AI-Extractor/OUTPUT JSON/JSON FILES
# SPLIT_PDF_OUTPUT_PATH=/Users/YourName/Documents/AI-Extractor/SPLIT PDF FILES
# SESSION_FILE_PATH=/Users/YourName/Documents/AI-Extractor/session_state.json
#
# LINUX PATHS:
# OUTPUT_JSON_FILES_PATH=/home/YourName/Documents/AI-Extractor/OUTPUT JSON/JSON FILES
# SPLIT_PDF_OUTPUT_PATH=/home/YourName/Documents/AI-Extractor/SPLIT PDF FILES
# SESSION_FILE_PATH=/home/YourName/Documents/AI-Extractor/session_state.json
#
# RELATIVE PATHS (work on all platforms):
# OUTPUT_JSON_FILES_PATH=./OUTPUT JSON/JSON FILES
# SPLIT_PDF_OUTPUT_PATH=./SPLIT PDF FILES
# SESSION_FILE_PATH=./session_state.json
#
# ============================================================================
# AZURE SETUP GUIDE
# ============================================================================
#
# 1. AZURE DOCUMENT INTELLIGENCE:
#    - Go to Azure Portal (portal.azure.com)
#    - Create a "Document Intelligence" resource
#    - Copy the Endpoint and Key from "Keys and Endpoint" section
#    - Paste them into DOC_ENDPOINT and DOC_KEY above
#
# 2. AZURE OPENAI:
#    - Go to Azure Portal (portal.azure.com)
#    - Create an "OpenAI" resource
#    - Deploy a GPT-4 model in Azure OpenAI Studio
#    - Copy the endpoint, key, and deployment name
#    - Update AZURE_OPENAI_* variables above
#
# 3. AZURE BLOB STORAGE (Optional):
#    - Go to Azure Portal (portal.azure.com)
#    - Create a "Storage Account" resource
#    - Go to "Access Keys" and copy the connection string
#    - Update AZURE_STORAGE_* variables above
#
# ============================================================================
# SECURITY BEST PRACTICES
# ============================================================================
#
# 1. NEVER commit .env file to version control
# 2. Add .env to your .gitignore file
# 3. Use different credentials for development/production
# 4. Rotate API keys regularly
# 5. Use specific CORS origins in production (not *)
# 6. Set DEBUG_MODE=false in production
# 7. Use HTTPS endpoints in production
# 8. Monitor Azure costs and usage
#
# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# COMMON ISSUES:
# 1. "Invalid endpoint" - Check that URLs don't have trailing slashes
# 2. "Authentication failed" - Verify API keys are correct and active
# 3. "File not found" - Check that all directory paths exist
# 4. "Permission denied" - Ensure the application has write access to output directories
# 5. "Port already in use" - Change SERVER_PORT to an available port
#
# TESTING YOUR CONFIGURATION:
# 1. Start the application: python app.py
# 2. Check the console for any configuration errors
# 3. Visit http://localhost:5000 to test the web interface
# 4. Try uploading a test PDF to verify Azure connections
#
# ============================================================================